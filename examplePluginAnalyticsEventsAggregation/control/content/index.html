<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
		NOTE:
		1. You can reference the file in SDK via relative path
		2. The Control and Widget Should NOT share resources. They will be separated in production.
		3. You may include any JS framework you want with your Widget and Control folders. However, keep in mind
		    to keep you plugin as light weight as possible for performance and transport reasons
	-->

    <!-- You can load helper.css to use our helper classes.
    <link href="../../../../styles/helper.css" rel="stylesheet">
    -->

    <!-- JS -->
    <script src="../../../../scripts/buildfire.min.js"></script>

    <!--
   <script src="../../../../scripts/angular/angular.min.js"></script>
   <script src="../../../../scripts/angular/ui-bootstrap.min.js"></script>

  <script src="../../../../scripts/jquery/jquery-1.11.2.min.js"></script>
  -->
    <script>
        //register plugin events for analytics
        function registerEvent(title, key, description, silentNotification) {
            buildfire.analytics.registerEvent({
                title: title,
                key: key,
                description: description
            }, {silentNotification: silentNotification}, function () {

            });
        }

        function unregisterEvent(key) {
            buildfire.analytics.unregisterEvent(key);
        }

        function registerEvents(name, key, description, $this) {
            registerEvent(name, key, description);
            $this.querySelector('.loading').classList.remove('hidden');
            setTimeout(function () {
                $this.querySelector('.loading').classList.add('hidden');
            }, 1000);
        }

        function unregisterEvents(key, $this) {
            unregisterEvent(key);
            $this.querySelector('.loading').classList.remove('hidden');
            setTimeout(function () {
                $this.querySelector('.loading').classList.add('hidden');
            }, 1000);
        }

    </script>
</head>
<body>
<div class="container">
    <h4>Plugin Events</h4>
    <div class="row">
        <div class="col-md-12">
            <ul class="list-group">
                <li class="list-group-item">
                    Contact Us
                    <div class="pull-right">
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="registerEvents('Contact Us', 'contact_us', 'Customers who clicked on Contact Us',this)">
                            Register
                            Events <span
                                class="badge loading hidden">Processing</span></button>
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="unregisterEvents('contact_us',this)">Unregister
                            Events <span
                                    class="badge loading hidden">Processing</span></button>
                    </div>
                </li>
                <li class="list-group-item">
                    Purchase
                    <div class="pull-right">
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="registerEvents('Purchase', 'purchase', 'Customers who clicked on Purchase',this)">
                            Register
                            Events <span
                                class="badge loading hidden">Processing</span></button>
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="unregisterEvents('purchase',this)">Unregister
                            Events <span
                                    class="badge loading hidden">Processing</span></button>
                    </div>
                </li>
                <li class="list-group-item">
                    Add To Cart
                    <div class="pull-right">
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="registerEvents('Add To Cart', 'add_to_cart', 'Customers who clicked on Add To Cart',this)">
                            Register
                            Events <span
                                class="badge loading hidden">Processing</span></button>
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="unregisterEvents('add_to_cart',this)">Unregister
                            Events <span
                                    class="badge loading hidden">Processing</span></button>
                    </div>
                </li>
                <li class="list-group-item">
                    Help
                    <div class="pull-right">
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="registerEvents('Help', 'help', 'Customers who clicked on Help',this)">
                            Register
                            Events <span
                                class="badge loading hidden">Processing</span></button>
                        <button type="button" class="btn btn-xs btn-primary"
                                onclick="unregisterEvents('help',this)">Unregister
                            Events <span
                                    class="badge loading hidden">Processing</span></button>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
</body>
</html>